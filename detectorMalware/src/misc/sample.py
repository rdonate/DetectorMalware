#! - * - coding UTF-8 - * -
import pandas as pd
import os

# Esta función se encarga de seleccionar una muestra de los ficheros de la base de datos según
# los parametros que se le pasan, que son frac potcentaje de muestras a selecionar, seed semilla
# para la utilización de numeros aleatorios y source lista de tuplas del cual se selecciona la muestra.
# El resultado es un lista de tuplas del identificador del fichero y su clase correspondiente.
def selectSample(frac,seed,dir_data):
    df=pd.read_csv(dir_data+'DataBase/trainLabels.csv')
    sample=df[df['Class']==1].sample(frac=(frac/100),random_state=seed)
    for class_num in range(2,10):
        sample=pd.concat([sample,df[df['Class']==class_num].sample(frac=(frac/100),random_state=seed)])
    dir=dir_data+'DataBase/sampleTrainLabels.csv'
    os.remove(dir)
    sample.to_csv(dir, sep=',', encoding='utf-8', index=False)
    return dir